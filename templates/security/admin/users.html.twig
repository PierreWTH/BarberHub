{% extends 'base.html.twig' %}

{% block title %} Utilisateurs {% endblock %}

{% block body %}
<section class="admin-pannel">
    {% include "security/admin/_sidebar.html.twig" %}
    <div class="admin-pannel-content">
    <h1>Liste des utilisateurs </h1>
<table class="admin-user-table" id="responsive-table">
    <thead>
        <th> Pseudo </th>
        <th> Validé </th>
        <th> Role </th>
        <th> Action </th>
    </thead>
    <tbody>
        {% for user in users %}   
            <tr>
                <td data-label = "Pseudo"> {{user.pseudo}}</td>

                {% if user.isVerified == 1 %}

                <td data-label = "Statut"> Vérifié </td>

                {% else %}

                <td data-label = "Statut"> Non vérifié </td>
                    
                {% endif %}
                <td data-label = "Role(s)">
                {% for role in user.roles %}
                         {{role}}<br>
                {% endfor %}
                </td>
                <td data-label = "Action"><a href="{{ path( 'admin_edituser', {id : user.id } )}}">Modifier</a></td>
            </tr>
        {% endfor %}
    </tbody>
</table>
</div>
</section>
{% endblock %}
