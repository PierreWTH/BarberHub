{% extends 'base.html.twig' %}

{% block title %} Inscription {% endblock %}

{% block body %}
    {% for flash_error in app.flashes('verify_email_error') %}
        <div class="alert alert-danger" role="alert">{{ flash_error }}</div>
    {% endfor %}

<div class="register-splitscreen">
    <div class="register-left">
        <div class="copy">
            <h1>Votre barbier à portée de main. </h1>
            <p> Trouvez le barbier qui vous corresponds. </p>
        </div>
    </div>
    <div class="register-right">
        {{ form_start(registrationForm) }}
        <div class="copy">
            <h2> Inscription </h2>
            <div class="login-container">
                <p>Déja inscrit ? <a href=""> <strong>Se connecter</strong></a></p>
            </div>
        </div>
        <div class="input-container name">
            {{ form_row(registrationForm.pseudo) }}
        </div>
        <div class="input-container email">
            {{ form_row(registrationForm.email) }}
        </div>
        <div class="input-container password">
            {{ form_row(registrationForm.plainPassword, { label: 'Password'}) }}
            <i class="fa-solid fa-eye-slash"  onclick="showPassword()" id="password-toggle"></i>
        </div>
        <div class="input-container terms">
            <label class="checkbox-container">
            {% block form_row %}
                {{ form_errors(registrationForm.agreeTerms) }}
                {{ form_widget(registrationForm.agreeTerms) }}
            {% endblock %}
                <span class="checkmark"></span>
                J'accepte les conditions
            </label>
        </div>
            <button type="submit" class="signup-btn"> S'inscrire </button>

            <div class="copy legal">
                <p><span class="small"> En continuant, vous acceptez nos conditions et nos politiques de confidentialités. </span></p>
            </div>
        {{ form_end(registrationForm) }}
    </div>
</div>

{% block javascript %}

<script>
    
    function showPassword() {
        var inputPassword = document.getElementById("registration_form_plainPassword_first");
        var icon = document.getElementById("password-toggle");
    
        if (inputPassword.type === "password") {
            inputPassword.type = "text";
            // Remplacez la classe pour afficher l'icône "fa-eye"
            icon.classList.remove("fa-solid", "fa-eye-slash");
            icon.classList.add("fa-regular", "fa-eye");
        } else {
            inputPassword.type = "password";
            // Remplacez la classe pour afficher l'icône "fa-eye-slash"
            icon.classList.remove("fa-regular", "fa-eye");
            icon.classList.add("fa-solid", "fa-eye-slash");
        }
    }
</script>
    
{% endblock javascript %}

{% endblock %}

